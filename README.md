# 项目概述

- **项目名称**：subtitle-translator
- **技术栈**：前端 Vue3，后端 FastAPI + SQLite

# 核心功能模块

## 1. 语音识别 (ASR) - ✅ 已实现

- 使用 ASR 模型将音频转换为带时间戳的文本
- 支持多模型（Whisper、FunASR）可配置切换
- 适配器模式设计，便于扩展新模型

## 2. 识别结果翻译 - 🔄 待实现

- **2.1 文本翻译**
    - 使用大模型对识别文本进行翻译
- **2.2 背景资料搜索**
    - 基于音频文件名等信息联网搜索，获取背景信息辅助翻译
- **2.3 分段翻译**
    - 利用时间戳分段，提高翻译质量
- **2.4 说话人识别**
    - 声纹识别区分说话人 + 大模型识别说话人姓名
- **2.5 上下文管理**
    - 以分段为单位，翻译后由大模型进行上下文概括，减少 token 消耗并提升注意力

## 3. 结果导出 - ✅ 部分实现

- **格式化器已实现**：LRC、SRT、JSON、TXT、TSV、VTT 格式
- **导出端点待实现**：API 端点集成导出功能

# 项目状态

## 已实现功能

- ✅ ASR 模块完整实现（router/asr_router.py:31）
- ✅ 多模型支持（Whisper、FunASR）
- ✅ 配置化管理（config/asr_model.json）
- ✅ 导出格式化器（manager/asr/asr_output_formatter.py）
- ✅ 数据库基础（SQLAlchemy + SQLite 异步）

## 待实现功能

- 🔄 翻译模块（文本翻译、背景搜索、说话人识别等）
- 🔄 导出 API 端点
- 🔄 前端界面集成

# 架构设计特点

- 接口抽象：ASRModelManager 接口定义统一操作
- 适配器模式：ASRModelAdapter 支持多模型热切换
- 配置驱动：JSON 配置文件管理模型参数
- 格式支持：6 种字幕格式导出
